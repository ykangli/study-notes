# 归并排序

------

## [剑指 Offer 51. 数组中的逆序对](https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/)

在数组中的两个数字，如果前面一个数字大于后面的数字，则这两个数字组成一个逆序对。输入一个数组，求出这个数组中的逆序对的总数。

**示例 1:**

```
输入: [7,5,6,4]
输出: 5
```

**限制：**

```
0 <= 数组长度 <= 50000
```

思路：

逆序对来源1：左边区间的逆序个数，并把左边区间排序

逆序对来源2：右边区间的逆序个数，并把右边区间排序

逆序对来源3：跨越左右两个区间的逆序对个数，并合并两个有序数组，形成更长的有序数组

排序的作用：

1. **消除逆序关系，避免重复计算。**

2. 排序快速输出逆序对个数的基础。

### 方法一：数出每一个数前面有多少个数比它大

下图为计算**跨越两个区间的逆序对个数**：

![image-20220821172659913](https://ykangliblog.oss-cn-beijing.aliyuncs.com/article/image-20220821172659913.png)

代码：



### 方法二：数出每一个数后面有多少个数比它小

![image-20220821173917267](https://ykangliblog.oss-cn-beijing.aliyuncs.com/article/image-20220821173917267.png)



